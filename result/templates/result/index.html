{% extends 'school_admin_layout.html' %}
{% block 'main_content' %}

<div class="row">
  <div class="col-12 grid-margin">
    <div class="card">
      <div class="card-body">
          <h4 class="card-title">RESULT VIEW: <i> {{ subject|upper }} FOR {{ class|upper }} </i></h4>
          {% if student_result %}
          <div class="table-responsive">
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th> Image  </th>
                            <th> Fullname </th>
                            <th class="text-center"> Registration No </th>
                            {% if result_setting.assignments %}
                            <th> Assignment</th> {% else %} {% endif %}
                            {% if tests >= 1 %}
                            <th> 1st CA </th> {% else %} {% endif %}
                            {% if tests >= 2 %}
                            <th> 2nd CA </th> {% else %} {% endif %}
                            {% if tests >= 3  %}
                            <th> 3rd CA </th> {% else %} {% endif %}
                            {% if tests >= 4  %}
                            <th> 4th CA </th>{% else %} {% endif %}
                            {% if tests >= 5  %}
                            <th> 5th CA </th>{% else %} {% endif %}
                            {% if tests >= 6  %}
                            <th> 6th CA </th>{% else %} {% endif %}
                            <th> Exam  </th>
                            <th> Total  </th>
                            <th> Grade </th>
                            <th> Remark  </th>
                            <th>   </th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for value in student_result %}
                    <input type="hidden" name="students[]" value="{{value.student.id}}" />
                        <tr>
                            <td> <image src="/media/{{ value.student.image }}" /> </td>
                            <td> {{ value.student.surname|title }} {% if value.student.middle_name %} {{ value.student.middle_name|title }} {% endif %} {{ value.student.last_name|title }} </td>
                            <td> <p> {% if value.student.registration_number %} {{ value.student.registration_number }} {% endif %} </p></td>
                            {% if result_setting.assignments %}
                            <td> <p> {% if value.assignment %} {{ value.assignment }} {% endif %} </p> </td>
                            {% else %} {% endif %}
                            {% if tests >= 1 %}
                            <td> <p> {% if value.first_test %} {{ value.first_test}} {% endif %} </p> </td>
                            {% else %} {% endif %}
                            {% if tests >= 2 %}
                            <td> <p> {% if value.second_test %} {{ value.second_test}} {% endif %}  </p> </td>
                            {% else %} {% endif %}
                            {% if tests >= 3 %}
                            <td> <p> {% if value.third_test %} {{ value.third_test}} {% endif %} </p> </td>
                            {% else %} {% endif %}
                            {% if tests >= 4 %}
                            <td> <p> {% if value.forth_test %} {{ value.forth_test}} {% endif %} </p> </td>
                            {% else %} {% endif %}
                            {% if tests >= 5 %}
                            <td> <p> {% if value.fifth_test %} {{ value.fifth_test}} {% endif %}  </p> </td>
                            {% else %} {% endif %}
                            {% if tests >= 6 %}
                            <td> <p> {% if value.sixth_test %} {{ value.sixth_test}} {% endif %} </p> </td>
                            {% else %} {% endif %}
                            <td> <p> {% if value.exam %} {{ value.exam}} {% endif %}  </p></td>
                            <td> <p> {% if value.total %} {{ value.total}} {% endif %}  </p></td>
                            <td> <p> {% if value.grade %} {{ value.grade}} {% endif %} </p> </td>
                            <td> <p> {% if value.remark %} {{ value.remark}} {% endif %}  </p></td>
                            <td> <p> <a class="nav-link" href="{% url 'school_admin_result_update' value.pk %}">
                                      <span class="menu-icon">
                                        <i class="mdi mdi-speedometer"></i>
                                      </span>
                                      <span class="menu-title">Edit</span>
                                    </a> </p></td>
                        </tr>

                    {% endfor %}
                    </tbody>
                </table>
          </div>
          {% else %}
            <br /><br />
            <h3 class="text-center">THERE IS CURRENTLY NO RESULT FOR THIS CLASS</h3>
          {% endif %}

      </div>
    </div>
  </div>
</div>
{%endblock %}